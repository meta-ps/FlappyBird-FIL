(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1331)}])},1331:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return fe}});var i=t(5893),r=t(9473),a=t(6741),s=(0,a.oM)({name:"slice",initialState:{isWalletConnected:!1,walletAddress:"",stakeAmount:0,betScore:0,isStakeDone:!1,gamePin:0,score:0,gameStarted:!1,isGameOver:!1,birdPosition:300,pipePosition:500,checkresults:!1,hasUserPlayed:"NOT_PLAYED",hasWinned:!1},reducers:{setBetScore:function(e,n){n.payload?e.betScore=n.payload:e.betScore=0},setStakeAmount:function(e,n){n.payload?e.stakeAmount=n.payload:e.stakeAmount=0},setStakeStatus:function(e,n){n.payload?e.isStakeDone=!0:e.isStakeDone=!1},setGamePin:function(e,n){n.payload?e.gamePin=n.payload:e.gamePin=0},setWalletState:function(e,n){n.payload?(e.isWalletConnected=!0,e.walletAddress=n.payload):(e.isWalletConnected=!1,e.walletAddress="")},addScore:function(e){e.score+=1},startGame:function(e){e.gameStarted=!0},gameOver:function(e){e.gameStarted=!1,e.isGameOver=!0,console.log()},setBirdPosition:function(e,n){0===n.payload?e.birdPosition=0:e.birdPosition+=n.payload},setPipePosition:function(e,n){e.pipePosition=n.payload},setGameResult:function(e,n){e.hasWinned=n.payload,e.hasUserPlayed="PLAYED"}}}),o=s.actions,c=o.addScore,l=o.startGame,u=o.setBirdPosition,d=o.gameOver,p=(o.resetGame,o.setPipePosition),m=o.setGamePin,f=o.setStakeStatus,x=o.setWalletState,h=o.setStakeAmount,g=o.setBetScore,y=o.setGameResult,v=s.reducer,w=(0,a.xC)({reducer:v}),b=50,j=5,k=225,N=200,S=100,P=6,C=100,T=700,A=500,M=t(4051),I=t.n(M),_=t(7548),E=t(7294),W=t(4146),L=t(9485),O=t(1744),z=t(241),D=t(9521);function G(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function F(){var e=G(["\nposition: absolute;\nbackground: no-repeat center/100% url('/img/pipe2.png');\nbackground-position: top;\nwidth: ","px;\n"]);return F=function(){return e},e}function B(){var e=G(["\nbackground: no-repeat center/100% url('/img/pipe1.png');\nbackground-position: bottom;\n"]);return B=function(){return e},e}function H(){var e=(T-N-50)/50;return 50*Math.floor(Math.random()*(e-1+1)+1)}function Y(){var e=(0,r.v9)((function(e){return e.pipePosition})),n=(0,r.v9)((function(e){return e.birdPosition})),t=(0,r.v9)((function(e){return e.gameStarted})),a=(0,E.useState)(null),s=a[0],o=a[1],l=(0,E.useState)(null),u=l[0],m=l[1],f=(0,E.useState)(null),x=f[0],h=f[1];return(0,E.useEffect)((function(){o(new Audio("/sound-effects/hit.wav")),m(new Audio("/sound-effects/point.wav")),h(H())}),[]),(0,E.useEffect)((function(){var i;return(n<x||n+b>x+N)&&e<=k+b&&e+S>=k+10?(w.dispatch(d()),s.play()):t&&e+S>0?(e+S<=b+k&&e+S>=k+b-P&&(w.dispatch(c()),u.play()),i=setInterval((function(){w.dispatch(p(e-P))}),24)):(h(H()),w.dispatch(p(A))),function(){return clearInterval(i)}}),[t,e]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z,{top:0,position:e,height:x}),(0,i.jsx)(R,{top:N+x,position:e,height:T-N})]})}var R=D.ZP.div.attrs((function(e){return{style:{top:e.top,left:e.position,height:e.height}}})).withConfig({componentId:"sc-2c907ed8-0"})(F(),S),Z=(0,D.ZP)(R).withConfig({componentId:"sc-2c907ed8-1"})(B());function U(){var e,n,t=(e=["\nposition: absolute;\nbackground-color: red;\nbackground: no-repeat center/100% url('/img/ezgif.com-gif-maker.gif');\nwidth: ","px;\nheight: ","px\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return U=function(){return t},t}function K(){var e=(0,r.v9)((function(e){return e.birdPosition})),n=(0,r.v9)((function(e){return e.gameStarted})),t=(0,E.useState)(null),a=t[0],s=t[1];return(0,E.useEffect)((function(){s(new Audio("/sound-effects/die.wav"))}),[]),(0,E.useEffect)((function(){var t;return n&&(e<T?t=setInterval((function(){w.dispatch(u(j))}),24):(w.dispatch(d()),a.play())),function(){return clearInterval(t)}}),[n,e]),(0,i.jsx)(X,{top:e,left:k})}var X=D.ZP.div.attrs((function(e){return{style:{top:e.top,left:e.left}}})).withConfig({componentId:"sc-4df1640a-0"})(U(),b,b);function Q(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function V(){var e=Q(["\nuser-select: none; /* supported by Chrome and Opera */\n-webkit-user-select: none; /* Safari */\n-khtml-user-select: none; /* Konqueror HTML */\n-moz-user-select: none; /* Firefox */\n-ms-user-select: none; \nbackground: no-repeat center/100% url('/img/background-day.png');\noverflow: hidden;\nposition: relative;\nwidth: ","px;\nheight: ","px\n"]);return V=function(){return e},e}function J(){var e=Q(["\nbackground: no-repeat center/70% url('/img/gamestart.png');\ntext-align: center;\nwidth: 100%;\nheight: 100%;\n"]);return J=function(){return e},e}function q(){var e=Q(["\nposition: relative;\nz-index: 10;\nbackground: no-repeat center/70% url('/img/gameover.png');\ntext-align: center;\nwidth: 100%;\nheight: 100%;\n"]);return q=function(){return e},e}function $(){var e=Q(["\nfont-family: 'Gamja Flower', cursive;\ncolor: white;\ntext-shadow: black 2px 2px;\nposition: absolute;\nfont-size: 3rem;\nz-index:1;\nright: 10%;\ntop: 0;\n"]);return $=function(){return e},e}function ee(){var e=(0,E.useState)(null),n=e[0],t=e[1];(0,E.useEffect)((function(){t(new Audio("/sound-effects/jump.wav"))}),[]);var a=(0,r.v9)((function(e){return e.birdPosition})),s=(0,r.v9)((function(e){return e.score})),o=(0,r.v9)((function(e){return e.gameStarted})),c=(0,r.v9)((function(e){return e.isGameOver})),d=(0,r.v9)((function(e){return e.betScore}));return(0,i.jsxs)(ne,{onClick:function(){var e=C;c?d<s?w.dispatch(y(!0)):w.dispatch(y(!1)):o?(a-e>=0?w.dispatch(u(-e)):w.dispatch(u(0)),n.pause(),n.currentTime=0,n.play()):w.dispatch(l())},children:[c?(0,i.jsx)(ie,{}):null,o||c?(0,i.jsx)(re,{children:s}):null,(0,i.jsx)(K,{}),(0,i.jsx)(Y,{height:200}),o||c?null:(0,i.jsx)(te,{})]})}var ne=D.ZP.div.withConfig({componentId:"sc-6efdc3ef-0"})(V(),A,T),te=D.ZP.div.withConfig({componentId:"sc-6efdc3ef-1"})(J()),ie=D.ZP.div.withConfig({componentId:"sc-6efdc3ef-2"})(q()),re=D.ZP.div.withConfig({componentId:"sc-6efdc3ef-3"})($()),ae="0xd3722f08E91261D70F88A7B9Df5B54ea8eC46194",se=[{inputs:[],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Staked",type:"event"},{inputs:[{internalType:"uint256",name:"_gameId",type:"uint256"},{internalType:"uint256",name:"_score",type:"uint256"}],name:"checkStatus",outputs:[{internalType:"bool",name:"isWinner",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currentGame",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"games",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"bool",name:"hasStaked",type:"bool"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"betScore",type:"uint256"},{internalType:"uint256",name:"score",type:"uint256"},{internalType:"bool",name:"isWinner",type:"bool"},{internalType:"bool",name:"hasPaid",type:"bool"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_gameid",type:"uint256"},{internalType:"uint256",name:"_score",type:"uint256"}],name:"hasUserWinned",outputs:[{internalType:"bool",name:"winner",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_gameid",type:"uint256"},{internalType:"uint256",name:"_score",type:"uint256"}],name:"setScore",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_betScore",type:"uint256"}],name:"stakeFIL",outputs:[{internalType:"uint256",name:"_gameid",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],oe=t(2484),ce=t.n(oe),le=t(5675),ue=t.n(le);function de(e,n,t,i,r,a,s){try{var o=e[a](s),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(i,r)}function pe(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function s(e){de(a,i,r,s,o,"next",e)}function o(e){de(a,i,r,s,o,"throw",e)}s(void 0)}))}}function me(){var e=(0,r.v9)((function(e){return e.stakeAmount})),n=(0,r.v9)((function(e){return e.betScore})),t=(0,r.v9)((function(e){return e.isStakeDone})),a=(0,r.v9)((function(e){return e.hasUserPlayed})),s=(0,r.v9)((function(e){return e.hasWinned})),o=(0,r.v9)((function(e){return e.gamePin})),c=(0,r.v9)((function(e){return e.walletAddress})),l=(0,E.useState)(!1),u=l[0],d=l[1];console.log("Is stake done RR ".concat(t));var p=(0,r.v9)((function(e){return e.isWalletConnected}));function y(){return(y=pe(I().mark((function e(){var n,t,i,r,a,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new(ce()),e.next=4,n.connect();case 4:return t=e.sent,i=new z.Q(t),r=i.getSigner(),e.next=9,i.getNetwork();case 9:return e.sent.chainId,e.next=12,r.getAddress();case 12:a=e.sent,s=L.Kn(a),w.dispatch(x(s)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function v(){return(v=pe(I().mark((function e(){var n,t,i,r,a,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new(ce()),e.next=4,n.connect();case 4:return t=e.sent,i=new z.Q(t),r=i.getSigner(),a=new W.CH(ae,se,r),e.next=10,a.checkStatus(o,10);case 10:return s=e.sent,e.next=13,s.wait();case 13:s=e.sent,console.log(s),alert("TXN successfully completed please check your wallet"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function b(){return(b=pe(I().mark((function t(){var i,r,a,s,o,c,l,u;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,localStorage.setItem("gamePin","0"),i=new(ce()),t.next=6,i.connect();case 6:return r=t.sent,a=new z.Q(r),s=a.getSigner(),o=new W.CH(ae,se,s),c={value:O.fi(e.toString())},t.next=13,o.stakeFIL(n,c);case 13:return l=t.sent,t.next=16,l.wait();case 16:return l=t.sent,t.next=19,o.currentGame();case 19:u=t.sent,console.log("present game pin ".concat(u)),w.dispatch(f(!0)),w.dispatch(m(Number(u.toNumber()))),console.log(l),alert("TXN successfully completed"),localStorage.setItem("gamePin","".concat(u)),localStorage.setItem("isPlayed","false"),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(1),console.log(t.t0);case 32:case"end":return t.stop()}}),t,null,[[1,29]])})))).apply(this,arguments)}return(0,i.jsxs)(i.Fragment,{children:[!p&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)("header",{className:"shadow-sm",children:(0,i.jsx)("div",{className:"max-w-screen-xl p-4 mx-auto",children:(0,i.jsxs)("div",{className:"flex items-center justify-between space-x-4 lg:space-x-10",children:[(0,i.jsx)("div",{className:"flex lg:w-0 lg:flex-1",children:(0,i.jsxs)("span",{className:"w-20 h-10 text-3xl font-black leading-none text-gray-900 select-none",children:["FlappyFIL",(0,i.jsx)("span",{className:"text-yellow-400",children:"."})]})}),(0,i.jsx)("div",{className:"items-center justify-end flex-1 hidden space-x-4 sm:flex",children:(0,i.jsx)("button",{onClick:function(){return y.apply(this,arguments)},className:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-yellow-500 border border-transparent rounded-md shadow-sm hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400",id:"connect-wallet",children:(0,i.jsx)("b",{children:"Login With Metamask(FIL)\ud83e\udd8a"})})})]})})})}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"flex h-screen",children:(0,i.jsxs)("div",{className:"m-auto",children:[(0,i.jsx)("h3",{}),(0,i.jsx)("img",{src:"https://e1.pxfuel.com/desktop-wallpaper/843/524/desktop-wallpaper-5-flappy-bird-game-flappy-bird.jpg"})]})})})]}),p&&!t&&(0,i.jsxs)("div",{children:[(0,i.jsx)(_.en,{account:c,supportAddress:"0x6B4c696B623FA9A2A6D5b6E9101Ef19CD973bc3C",apiKey:"jVPMCRom1B.iDRMswdehJG7NpHDiECIHwYMMv6k2KzkPJscFIDyW8TtSnk4blYnGa8DIkfuacU0",env:"staging",greetingMsg:"Send /intro to start :)"}),(0,i.jsx)("div",{children:(0,i.jsxs)("section",{className:"py-20 bg-gray-50",children:[(0,i.jsx)("div",{className:"container items-center max-w-6xl px-4 px-10 mx-auto sm:px-20 md:px-32 lg:px-16",children:(0,i.jsxs)("div",{className:"flex flex-wrap items-center -mx-3",children:[(0,i.jsx)("div",{className:"order-1 w-full px-3 lg:w-1/2 lg:order-0",children:(0,i.jsxs)("div",{className:"w-full lg:max-w-md",children:[(0,i.jsx)("h2",{className:"mb-4 text-3xl font-bold leading-tight tracking-tight sm:text-4xl font-heading",children:" Hello!"}),(0,i.jsx)("p",{className:"mb-4 font-medium tracking-tight text-gray-400 xl:mb-6",children:"Play and win 5% on your Stake\ud83c\udfdb\ufe0f"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"flex items-center py-2 space-x-4 xl:py-3",children:[(0,i.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),(0,i.jsx)("span",{className:"font-medium text-gray-500",children:c})]}),(0,i.jsxs)("li",{className:"flex items-center py-2 space-x-4 xl:py-3",children:[(0,i.jsx)("svg",{className:"w-8 h-8 text-pink-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),(0,i.jsx)("span",{className:"font-medium text-gray-500",children:(0,i.jsx)("input",{type:"number",placeholder:"Stake Amount > 0.02",onChange:function(e){w.dispatch(h(Number(e.target.value)))},className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"})})]}),(0,i.jsxs)("li",{className:"flex items-center py-2 space-x-4 xl:py-3",children:[(0,i.jsx)("svg",{className:"w-8 h-8 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,i.jsx)("span",{className:"font-medium text-gray-500",children:(0,i.jsx)("input",{type:"number",placeholder:"Bet score > 2",className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",onChange:function(e){w.dispatch(g(Number(e.target.value)))}})})]}),(0,i.jsx)("li",{className:"flex items-center py-2 space-x-4 xl:py-3",children:(0,i.jsxs)("div",{children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0",!u&&(0,i.jsx)("button",{className:"text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-pink-300 dark:focus:ring-pink-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2",onClick:function(){return b.apply(this,arguments)},children:"Stake"}),u&&(0,i.jsxs)("div",{className:"flex items-center",children:["Please Wait..",(0,i.jsx)("div",{className:"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full m-12",children:(0,i.jsx)("span",{className:"visually-hidden",children:"."})})]})]})})]})]})}),(0,i.jsxs)("div",{className:"w-full px-3 mb-12 lg:w-1/2 order-0 lg:order-1 lg:mb-0",children:[(0,i.jsx)("div",{}),(0,i.jsx)(ue(),{layout:"responsive",objectFit:"contain",width:"100",height:"80",className:"mx-auto sm:max-w-sm lg:max-w-full",src:"https://cdn.devdojo.com/images/november2020/feature-graphic.png",alt:"feature image",unoptimized:!0})]})]})}),(0,i.jsx)("div",{})]})})]}),p&&t&&"NOT_PLAYED"===a&&(0,i.jsx)("div",{style:{alignItems:"center",justifyContent:"center"},onClick:function(){localStorage.setItem("isPlayed","true")},children:(0,i.jsx)(ee,{})}),p&&"PLAYED"===a&&!0===s&&(0,i.jsx)("div",{children:(0,i.jsx)("div",{children:(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"flex flex-col xl:flex-row h-screen",children:[(0,i.jsx)("div",{className:"w-full xl:w-1/2 my-4 h-screen flex items-center justify-center",children:(0,i.jsxs)("div",{className:"w-4/6",children:[(0,i.jsx)("h3",{className:"tracking-tight font-light text-gray-500 text-4xl ",children:"You Won !!!"}),(0,i.jsx)("h1",{className:"text-6xl md:text-8xl tracking-tight leading-none font-extrabold text-cyan-500",children:"tFIL"}),(0,i.jsxs)("p",{className:"text-lg text-gray-500 mt-2",children:["Claim with 5% on your Stake !",(0,i.jsx)("br",{}),"Winned Claim the stake ",e/100]}),(0,i.jsx)("button",{className:"inline-block bg-cyan-500 hover:bg-pink-600 mt-3 px-6 py-3 rounded-md text-white",onClick:function(){return v.apply(this,arguments)},children:"Claim "})]})}),(0,i.jsx)("div",{className:"w-full xl:w-1/2 h-screen",children:(0,i.jsx)("img",{className:"object-cover w-full h-screen",src:"https://pixelprowess.com/i/bots/i/group.svg",alt:"Robot Group"})})]})})})}),p&&"PLAYED"===a&&!1===s&&(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"h-full flex items-center px-6 lg:px-32 text-white",children:(0,i.jsx)("section",{className:"w-full md:w-9/12 xl:w-8/12",children:(0,i.jsxs)("h1",{className:"text-3xl lg:text-5xl font-bold text-pink-500",children:["You",(0,i.jsx)("br",{})," lost THE GAME!"]})})})})]})}function fe(){return(0,i.jsx)(r.zt,{store:w,children:(0,i.jsx)(me,{})})}},8677:function(){},2808:function(){},9159:function(){},6601:function(){},2480:function(){},8924:function(){},5024:function(){}},function(e){e.O(0,[854,967,277,34,571,774,888,179],(function(){return n=5557,e(e.s=n);var n}));var n=e.O();_N_E=n}]);